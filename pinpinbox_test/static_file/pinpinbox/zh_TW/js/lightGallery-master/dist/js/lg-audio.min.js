(function(b,e,h,f){var g={audio:!0};e=function(a){this.core=b(a).data("lightGallery");this.core.s=b.extend({},g,this.core.s);this.core.s.audio&&this.init();this.playingFlag=this.playing=!1;return this};e.prototype.init=function(){var a=this;0===b("#lg-audio-button").length&&a.core.$outer.find(".lg-toolbar").append('<span class="lg-icon lg-audio-off" id="lg-audio-button"></span>');0===b("#lg-audio").length&&a.core.$outer.append('<div class="lg-audio-mask"><div class="lg-audio-area"><audio controls id="lg-audio"><source src="" type="audio/mpeg">Your browser does not support the audio element.</audio></div></div>');
b(".lg-audio-mask").hide();a.core.$outer.on("click","#lg-audio-button",function(){b(".lg-audio-mask").fadeIn()}).on("click",".lg-audio-mask",function(a){a.stopPropagation();b(this).fadeOut()}).on("click",".lg-audio-area",function(a){a.stopPropagation()});b("#lg-audio").on({play:function(){a.playing=!0;b("#lg-audio-button").removeClass("lg-audio-off").addClass("lg-audio-on")},pause:function(){a.playing=!1;b("#lg-audio-button").removeClass("lg-audio-on").addClass("lg-audio-off")}})};e.prototype.build=
function(){var a=this;if(a.core.s.audio){var d=a.core.s.dynamicEl[a.core.index].audio,c=b("#lg-audio");b(".lg-audio-mask").fadeOut(function(){if(d===f||null===d.src)b("#lg-audio-button").hide(),c.find("source").attr("src","").end().removeAttr("loop").trigger("pause").prop("currentTime",0).trigger("load");else{b("#lg-audio-button").show();switch(d.mode){case "singular":0===c.find("source").attr("src").length&&c.find("source").attr("src",d.src);a.core.$slide.eq(a.core.index).find(".lg-video").length?
(a.playing&&(a.playingFlag=!0),c.trigger("pause")):a.playingFlag&&(a.playingFlag=!1,c.trigger("play"));break;case "plural":c.find("source").attr("src",d.src).end().removeAttr("loop").trigger("pause").prop("currentTime",0).trigger("load")}d.loop&&c.attr("loop",!0)}})}};e.prototype.destroy=function(){};b.fn.lightGallery.modules.audio=e})(jQuery,window,document);