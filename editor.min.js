$(document).ready(sizeContent);
$(window).resize(sizeContent);

function sizeContent(){
	var a=$("html").height()-$("#header").height()-$("#editor_info").height()-10,
	    d=$(".menu02").height()-$(".menu_info").height()-20,
		e=$(".menu").height()-$(".menu_info").height()-20,
		b=$("#edit_in").height(),
		c=$("#edit_in").width();
	$("#editor_wrap").css("height",a+"px");
	$("#album_list").css("height",d+"px");
	$("#temp_list").css("height",e+"px");
	a=$("#editor_wrap").height()-50;
	a=Math.min(1,a/b);
	$("#edit_in").css({transform:"scale("+a+")"});
	$("#edit_box").css({width:c*a,height:b*a})
}
	

$(document).ready(function(){
	$(".changeto2").click(function(){
		$(".menu02").css({display:"block"});
		$(".menu").css({display:"none"});
		$("#mask").removeClass("maskopen");
		$("#mask").addClass("maskclose");
		$("#mask02").removeClass("maskclose");
		$("#mask02").addClass("maskopen");
		$(".menu02").hasClass("slide-menu-bottom02")&&
		  ($(".menu02").removeClass("slide-menu-bottom02"),$(".menu02").addClass("slide-menu-up"))
    });
	
	$(".changeto1").click(function(){
		$(".menu02").css({display:"none"});
		$(".menu").css({display:"block"});
        $(".menu").removeClass("slide-menu-bottom");
		$(".menu").addClass("slide-menu-up");
		$("#mask02").removeClass("maskopen");
		$("#mask02").addClass("maskclose");
		$("#mask").removeClass("maskclose");
		$("#mask").addClass("maskopen")
	});
		
	$(".con_icon02").click(function(){
		$(".menu02").css({display:"none"})&&
		  ($(".menu02").css({display:"block"}),$(".menu").css({display:"none"}),$("#mask02").addClass("maskopen"),$("#mask02").removeClass("maskclose"));
		$(".menu02").hasClass("slide-menu-bottom02")&&($(".menu02").removeClass("slide-menu-bottom02"),$(".menu02").addClass("slide-menu-up"))
	});
	
	$(".con_icon04").click(function(){
		$(".menu").css({display:"none"})&&
		  ($(".menu").css({display:"block"}),$(".menu02").css({display:"none"}),$("#mask").addClass("maskopen"),$("#mask").removeClass("maskclose"));
		$(".menu").hasClass("slide-menu-bottom")&&
		  ($(".menu").removeClass("slide-menu-bottom"),$(".menu").addClass("slide-menu-up"))
	});
	
	/* 共同編輯開始 */
	$(".con_icon06").click(function(){
		$(".menu03").css({display:"none"})&&
		  ($(".menu03").css({display:"block"}),$(".menu02").css({display:"none"}),$("#mask").addClass("maskopen"),$("#mask").removeClass("maskclose"));
		  $(".menu03").hasClass("slide-menu-left")&&($(".menu03").removeClass("slide-menu-left"),$(".menu03").addClass("slide-menu-right"))
	});
	
	
	$("#menu_open").click(function(){
		$(".menu").hasClass("slide-menu-bottom")?($(".menu").addClass("slide-menu-up",1E3,"easeOutQuint"),
          $("#mask").addClass("maskopen"),$("#mask").removeClass("maskclose"),$(".menu").removeClass("slide-menu-bottom")):
	     ($(".menu").removeClass("slide-menu-up"),$("#mask").removeClass("maskopen"),$("#mask").addClass("maskclose"),$(".menu").addClass("slide-menu-bottom",1E3,"easeOutQuint"))
	});
	
	$("#menu_open02").click(function(){
		$(".menu02").hasClass("slide-menu-up")?($(".menu02").addClass("slide-menu-bottom02",1E3,"easeOutQuint"),
		  $("#mask02").addClass("maskclose"),$("#mask02").removeClass("maskopen"),$(".menu02").removeClass("slide-menu-up"),
          $("#mask").addClass("maskclose"),$("#mask").removeClass("maskopen")):
	     ($(".menu02").removeClass("slide-menu-bottom02"),$("#mask02").removeClass("maskclose"),$("#mask02").addClass("maskopen"),$(".menu02").addClass("slide-menu-up",1E3,"easeOutQuint"))
	});
		 
	$("#mask").click(function(){
		$("#mask").hasClass("maskopen")&&
		  ($(".menu03").removeClass("slide-menu-right"),$("#mask").addClass("maskclose"),$("#mask").removeClass("maskopen"),$(".menu03").addClass("slide-menu-left",1E3,"easeOutQuint"))
	});
    
	$("#mask02").click(function(){
		$("#mask02").hasClass("maskopen")&&
          ($(".menu02").removeClass("slide-menu-up"),$(".menu02").addClass("slide-menu-bottom02"),$("#mask02").addClass("maskclose"),$("#mask02").removeClass("maskopen"),$("#mask").addClass("maskclose"),$("#mask").removeClass("maskopen"))
	})
	
});

(function(a,d,e){
	a("#album_list").sortable({
		cursor:"move",
		opacity:.8,
		items:".menu_item",
		containment:"parent",
		update:function(a,c){},
		stop:function(b,c){
			  a(".menu_item").each(function(b,c){a(c).find(".file-num").text("p"+(b+1))})
			}
	})
})(jQuery,window);